<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>交易记录---旅客</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<!-- bootstrap -->
<link href="../css/bootstrap.css" rel="stylesheet" />
<link href="../css/bootstrap-fixed.css" rel="stylesheet" />
<link href="../css/bootstrap-datepicker.css" rel="stylesheet" />
<!-- bootstrap的响应式 -->
<link href="../css/bootstrap-responsive.css" rel="stylesheet" />
<!-- 自定义 -->
<link href="../css/john-global.css" rel="stylesheet" />
<link href="../css/john-public.css" rel="stylesheet" />
<link href="../css/john-dashboard.css" rel="stylesheet" />
<link href="../css/john-transaction-history.css" rel="stylesheet" />
<link href="../css/john-public-responsive.css" rel="stylesheet" />

<script src="../js/jquery-1.8.3.js" > </script>
<script src="../js/bootstrap-tooltip.js"></script>
<script src="../js/bootstrap-popover.js"></script>
</head>

<body>

<div class="content">
	<div class="content-inner">
		<div class="crumb-mod">
			<ul class="breadcrumb">
				<li><i class="icon-home"></i><a href="#">Dashboard</a> <span class="divider">/</span></li>
				<li><a href="#">Photos and Video</a> <span class="divider">/</span></li>
				<li class="active">Upload</li>
			</ul>
			<a href="javascript:void(0);" class="ui-btn-middle btn-view-middle">
				<span><i class="icon-eye-open"></i>VIEW PROFILE</span>
			</a>
		</div>

		<div class="col-side">
			<div class="current-user">
				<img src="../img/avator-1.jpg" alt="图片描述" class="avator">
				<strong class="name">Yi Lian</strong>
			</div>
			<ul class="nav nav-list">
				<li><a href="#"><i class="icon-home"></i>Dashboard</a></li>
				<li class="nav-header">Transaction</li>
				<li><a href="#"><i class="icon-file"></i>Bookings</a></li>
				<li><a href="#"><i class="icon-file"></i>Guests</a></li>
				<li class="nav-header">Account</li>
				<li><a href="#"><i class="icon-user"></i>Profile</a></li>
				<li><a href="#"><i class="icon-picture"></i>Photos</a></li>
				<li><a href="#"><i class="icon-ok-circle"></i>Verification</a></li>
				<li><a href="#"><i class="icon-eye-open"></i>Reviews</a></li>
				<li class="nav-header">Setting</li>
				<li><a href="#"><i class="icon-file"></i>Notification</a></li>
				<li><a href="#"><i class="icon-file"></i>Privacy</a></li>
				<li><a href="#"><i class="icon-file"></i>Security</a></li>
				<li class="divider"></li>
				<li><a href="#"><i class="icon-question-sign"></i>Help</a></li>
			</ul>
		</div>

		<div class="col-main">
			<div class="history-mod">
				<div class="hd">
					<h3 class="hd-t">交易记录</h3>
					<select name="status" class="select">
						<option value="0">Transaction status</option>
						<option value="1">Paid</option>
						<option value="2">Clinch a bargain</option>
						<option value="3">Refund</option>
						<option value="4">Denied</option>
						<option value="5">Waiting for a reply</option>
					</select>
				</div>
				<div class="bd">
					<table class="history-list">
						<thead>
							<tr>
								<th class="time">Orders/Time</th>
								<th class="user">Guide</th>
								<th class="name"></th>
								<th class="status">Status</th>
								<th class="price">Price</th>
								<th class="number">People</th>
								<th class="operate">Operation</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td class="time">
									<span class="deal-orders">5246898745</span>
									<span class="deal-time">2013-04-16</span>
								</td>
								<td class="user" colspan="4">
									<!-- 所有之前发送过需求的旅伴 -->
									<div class="user-list-wrap">
										<table class="user-list">
											<tr>
												<td class="pic">
													<img src="../img/avator-1.jpg" alt="图片描述" class="avator" />	
													<a href="javascript:void(0);" class="ui-btn-small"><span>Contact</span></a>
												</td>
												<td class="name">Yi Lian</td>
												<td class="status">Accept</td>
												<td class="price">&yen;650</td>
											</tr>
											<tr>
												<td class="pic">
													<img src="../img/avator-2.jpg" alt="图片描述" class="avator" />	
													<a href="javascript:void(0);" class="ui-btn-small"><span>Contact</span></a>
												</td>
												<td>Yi Lian</td>
												<td class="status">Waiting</td>
												<td>&yen;650</td>
											</tr>
											<tr>
												<td class="pic">
													<img src="../img/avator-3.jpg" alt="图片描述" class="avator" />	
													<a href="javascript:void(0);" class="ui-btn-small"><span>Contact</span></a>
												</td>
												<td>Yi Lian</td>
												<td class="status">Clinch</td>
												<td>&yen;650</td>
											</tr>
										</table>
									</div>
									<a href="javascript:void(0);" class="act-more J-act-more-user">More</a>
								</td>
								<td class="number">10</td>
								<td class="operate">
									<a href="#">Details</a>
								</td>
							</tr>
						</tbody>
					</table>

					<!-- 分页 -->
					<div class="ui-pagination" id="J_ui_page" style="">
						<a href="#" title="Prev" class="disabled prev"><b class="arror-prev"></b></span>
						<a href="#" title="1" class="current">1</span>
						<a href="#" title="2">2</a>
						<a href="#" title="3">3</a>
						<a href="#" title="4">4</a>
						<span class="split">...</span>
						<a href="#" title="6">6</a>
						<a href="#" title="Next" class="next"><b class="arror-next"></b></a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<script type="text/javascript">
	$(function(){
		$.fn.showMoreUser = function(opts) {
			var defaults = {
				speed : 400
			}
			var opts = $.extend({}, defaults, opts);

			// 默认高度
			return this.each(function(){
				var _this = $(this);
				_this.live('click', function(){
					var __this = $(this);
					__this.blur();
					var _parent = __this.parent();
					var _listwrap = _parent.find('.user-list-wrap');
					var _list = _listwrap.find('table');
					var _children = _list.find('tr');

					// 默认高度，主要是下次缩回去的时候需要用到
					var height_default = _children.height() * 2;
					// 外围容器的高度
					var height_listwrap = _listwrap.height();
					// 列表的高度
					var height_list = _list.height();
					// 需要做动画的高度
					var animate_height = height_listwrap < height_list ? height_list : height_default;
					var animate_txt = height_listwrap < height_list ? 'Less' : 'More';

					_listwrap.stop(true, true).animate({
						'height' : animate_height
					}, opts.speed, function(){
						__this.text(animate_txt);
					});

					return false;
				});

			});
		}
		$('.J-act-more-user').showMoreUser();
	});
</script>

</body>
</html>